"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["packages_copilot-coding-agent-status_entry_ts-packages_history_history_ts-packages_promise-wi-9ec42f"],{62189:(e,t,s)=>{s.d(t,{U:()=>l});let l=(e,t)=>{let s=`/copilot/tasks/pull/${encodeURIComponent(e)}`;return t&&(s+=`?session_id=${encodeURIComponent(t)}`),s}},49936:(e,t,s)=>{s.d(t,{I:()=>l});let l=(0,s(96540).createContext)(null)},33571:(e,t,s)=>{var l=s(7123),a=s(74848),r=s(21728),n=s(34164),o=s(34001),i=s(67154),c=s(78314),d=s(32051),u=s(97189),m=s(57352),f=s(38621),p=s(96540);let x={copilotCard:"CopilotCodingAgentStatus-module__copilotCard--ILAZm",arrowBoth:"CopilotCodingAgentStatus-module__arrowBoth--d8Jfk"};var h=s(77367),j=s(69599),C=s(62189);function y(e){switch(e){case i.Yj.Queued:case i.Yj.InProgress:case i.Yj.WaitingForUser:case i.Yj.Idle:case i.Yj.Completed:return(0,a.jsx)(f.CopilotIcon,{size:"small"});case i.Yj.Failed:case i.Yj.TimedOut:return(0,a.jsx)(f.CopilotWarningIcon,{size:"small",className:"fgColor-danger"});case i.Yj.Cancelled:return(0,a.jsx)(f.SquareFillIcon,{size:"small",className:"fgColor-muted"});default:return(0,a.jsx)(f.CopilotIcon,{size:"small"})}}function g(e){let t,s,l,u,g,b,_,N,S,I,k,Y,T,w,A,E,P,R,$,F=(0,r.c)(57),{sessionsPollingInterval:O}=e,{pull:V}=(0,d.mV)(),{number:L,id:B,global_relay_id:Q}=V;F[0]!==B||F[1]!==O?(t={pullId:B,initialData:void 0,sessionsPollingInterval:O},F[0]=B,F[1]=O,F[2]=t):t=F[2];let{data:U,isLoading:K,isError:W,timedOut:z,isRetrying:D}=(0,o.t)(t),{ownerLogin:M,name:H}=(0,c.t)(),[X,Z]=(0,p.useState)(1),[J,q]=(0,p.useState)(!1);F[3]!==X||F[4]!==z?(s=()=>z?null:`Retrying${".".repeat(X)}`,F[3]=X,F[4]=z,F[5]=s):s=F[5];let G=s;if(F[6]!==U||F[7]!==W?(l=()=>{U&&!W?q(!1):W&&q(!0)},u=[U,W],F[6]=U,F[7]=W,F[8]=l,F[9]=u):(l=F[8],u=F[9]),(0,p.useEffect)(l,u),F[10]!==D?(g=()=>{if(!D)return void Z(1);let e=setInterval(()=>{Z(v)},500);return()=>clearInterval(e)},b=[D],F[10]=D,F[11]=g,F[12]=b):(g=F[11],b=F[12]),(0,p.useEffect)(g,b),F[13]!==G||F[14]!==J||F[15]!==M||F[16]!==Q||F[17]!==L||F[18]!==H||F[19]!==U||F[20]!==K){T=Symbol.for("react.early_return_sentinel");e:{let e=U?.at(0),t=function(e,t,s,l,a){if(null!=e&&null!=t&&null!=s)return j.XY.isFeatureEnabled("copilot_mission_control")&&j.XY.isFeatureEnabled("copilot_mission_control_session_redirect")?(0,C.U)(l,a||void 0):`/${e}/${t}/pull/${s}/agent-sessions/${a||""}`}(M,H,L,Q,e?.id??null);if(K&&!J){let e,t,s,l;F[30]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.$)(x.copilotCard,"fgColor-default rounded-2 no-underline mb-3 border d-flex flex-items-stretch"),F[30]=e):e=F[30],F[31]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)("div",{className:"mr-2 d-flex flex-column flex-content-start flex-items-start circle Skeleton",style:{height:"16px",width:"16px"},children:"\xa0"}),F[31]=t):t=F[31],F[32]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"mb-0 Skeleton Skeleton--text",children:"\xa0"}),(0,a.jsx)("p",{className:"mb-0 Skeleton Skeleton--text",children:"\xa0"})]}),F[32]=s):s=F[32],F[33]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsxs)("div",{className:e,"data-testid":"agent-status-loading-skeleton",children:[t,s,(0,a.jsx)("div",{className:"ml-3 d-flex flex-column flex-justify-start",children:(0,a.jsx)("div",{className:"flex-self-start",style:{height:"16px",width:"16px"}})})]}),F[33]=l):l=F[33],T=l;break e}if(J){let e,t,s,l,r,o;F[34]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.$)(x.copilotCard,"fgColor-default rounded-2 no-underline mb-3 border d-flex flex-items-stretch"),F[34]=e):e=F[34],F[35]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)("div",{className:"mr-2 fgColor-muted d-flex flex-column flex-content-start flex-items-start",children:y(i.Yj.Failed)}),F[35]=t):t=F[35],F[36]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)("p",{className:"mb-0 fgColor-default text-semibold",children:"Error loading sessions"}),F[36]=s):s=F[36];let c=G();F[37]!==c?(l=(0,a.jsxs)("div",{className:"flex-1",children:[s,(0,a.jsx)("p",{className:"mb-0 fgColor-muted text-small",children:c})]}),F[37]=c,F[38]=l):l=F[38],F[39]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)("div",{className:"ml-3 d-flex flex-column flex-justify-start",children:(0,a.jsx)("div",{className:"flex-self-start",style:{height:"16px",width:"16px"}})}),F[39]=r):r=F[39],F[40]!==l?(o=(0,a.jsxs)("div",{className:e,children:[t,l,r]}),F[40]=l,F[41]=o):o=F[41],T=o;break e}_=m.A,I=t,F[42]===Symbol.for("react.memo_cache_sentinel")?(k=(0,n.$)(x.copilotCard,"fgColor-default rounded-2 no-underline mb-3 border d-flex flex-items-stretch"),F[42]=k):k=F[42],Y=(0,a.jsx)("div",{className:"mr-2 fgColor-muted d-flex flex-column flex-content-start flex-items-start",children:y(e?.state??i.Yj.Idle)}),N="flex-1",S=(0,a.jsx)("p",{className:"mb-0 fgColor-default text-semibold",children:function(e){switch(e){case i.Yj.Queued:return"Queued for work";case i.Yj.InProgress:return"In progress";case i.Yj.WaitingForUser:return"Copilot is waiting for your input";case i.Yj.Idle:return"Copilot is blocked";case i.Yj.Completed:return"Copilot is done";case i.Yj.Failed:return"Copilot has failed";case i.Yj.TimedOut:return"Copilot has timed out";case i.Yj.Cancelled:return"Copilot was manually stopped";default:return"In progress"}}(e?.state??i.Yj.Idle)}),w="mb-0 fgColor-muted text-small",A=e&&function(e,t,s){let l=new Date(t).toISOString(),r=(0,h.Y)(t,s);switch(e){case i.Yj.Queued:return(0,a.jsx)("span",{role:"timer",children:(0,a.jsx)("relative-time",{datetime:l,tense:"past"})});case i.Yj.Completed:return(0,a.jsxs)("span",{role:"timer",children:["completed after ",(0,a.jsx)("time",{"aria-live":"off",children:r})]});case i.Yj.Failed:return(0,a.jsxs)("span",{role:"timer",children:["failed after ",(0,a.jsx)("time",{"aria-live":"off",children:r})]});case i.Yj.TimedOut:return(0,a.jsxs)("span",{role:"timer",children:["timed out after ",(0,a.jsx)("time",{"aria-live":"off",children:r})]});case i.Yj.Cancelled:return(0,a.jsxs)("span",{role:"timer",children:["session stopped after ",(0,a.jsx)("time",{"aria-live":"off",children:r})]});default:return(0,a.jsxs)("span",{role:"timer",children:["started ",(0,a.jsx)("relative-time",{datetime:l,tense:"past"})]})}}(e?.state,e?.created_at,e?.completed_at??"")}F[13]=G,F[14]=J,F[15]=M,F[16]=Q,F[17]=L,F[18]=H,F[19]=U,F[20]=K,F[21]=_,F[22]=N,F[23]=S,F[24]=I,F[25]=k,F[26]=Y,F[27]=T,F[28]=w,F[29]=A}else _=F[21],N=F[22],S=F[23],I=F[24],k=F[25],Y=F[26],T=F[27],w=F[28],A=F[29];return T!==Symbol.for("react.early_return_sentinel")?T:(F[43]!==w||F[44]!==A?(E=(0,a.jsx)("p",{className:w,children:A}),F[43]=w,F[44]=A,F[45]=E):E=F[45],F[46]!==N||F[47]!==S||F[48]!==E?(P=(0,a.jsxs)("div",{className:N,children:[S,E]}),F[46]=N,F[47]=S,F[48]=E,F[49]=P):P=F[49],F[50]===Symbol.for("react.memo_cache_sentinel")?(R=(0,a.jsx)("div",{className:"ml-3 d-flex flex-column flex-justify-start",children:(0,a.jsx)("div",{className:"flex-self-start",children:(0,a.jsx)(f.ArrowBothIcon,{className:`${x.arrowBoth} fgColor-muted`})})}),F[50]=R):R=F[50],F[51]!==_||F[52]!==I||F[53]!==k||F[54]!==Y||F[55]!==P?($=(0,a.jsxs)(_,{href:I,className:k,children:[Y,P,R]}),F[51]=_,F[52]=I,F[53]=k,F[54]=Y,F[55]=P,F[56]=$):$=F[56],$)}function v(e){return e>=3?1:e+1}function b(e){let t,s,l,n=(0,r.c)(8),{repository:o,pull:i,sessionsPollingInterval:m}=e;return n[0]!==m?(t=(0,a.jsx)(g,{sessionsPollingInterval:m}),n[0]=m,n[1]=t):t=n[1],n[2]!==i||n[3]!==t?(s=(0,a.jsx)(u.Fn,{children:(0,a.jsx)(d.mE,{pull:i,children:t})}),n[2]=i,n[3]=t,n[4]=s):s=n[4],n[5]!==o||n[6]!==s?(l=(0,a.jsx)(c.d,{repository:o,children:s}),n[5]=o,n[6]=s,n[7]=l):l=n[7],l}try{g.displayName||(g.displayName="CopilotCodingAgentStatusWidget")}catch{}try{b.displayName||(b.displayName="CopilotCodingAgentStatus")}catch{}(0,l.k)("copilot-coding-agent-status",{Component:b})},53627:(e,t,s)=>{s.d(t,{C3:()=>o,JV:()=>a,K3:()=>u,MM:()=>i,OE:()=>m,Zu:()=>d,bj:()=>r,jc:()=>c,kd:()=>n});var l=s(71315);function a(){return l.Kn?.state||{}}function r(e){f(a(),"",e)}function n(e){l.Kn?.pushState({appId:a().appId},"",e),p()}function o(e){f({...a(),...e},"",location.href)}function i(e){r(`?${e.toString()}${l.fV.hash}`)}function c(){r(l.fV.pathname+l.fV.hash)}function d(e){r(e.startsWith("#")?e:`#${e}`)}function u(){r(l.fV.pathname+l.fV.search)}function m(){l.Kn?.back()}function f(e,t,s){l.Kn?.replaceState(e,t,s),p()}function p(){l.cg?.dispatchEvent(new CustomEvent("statechange",{bubbles:!1,cancelable:!1}))}},73189:(e,t,s)=>{s.d(t,{l:()=>l});let l=()=>void 0},51407:(e,t,s)=>{s.d(t,{Y:()=>l});function l(){let e={};return e.promise=new Promise((t,s)=>{e.resolve=t,e.reject=s}),e}},28600:(e,t,s)=>{s.d(t,{A:()=>o});let{getItem:l,setItem:a,removeItem:r}=(0,s(82075).A)("localStorage"),n="REACT_PROFILING_ENABLED",o={enable:()=>a(n,"true"),disable:()=>r(n),isEnabled:()=>!!l(n)}},70263:(e,t,s)=>{s.d(t,{A:()=>r});var l=s(88431),a=s(96540);function r(){let e=(0,a.useRef)(!1),t=(0,a.useCallback)(()=>e.current,[]);return(0,l.N)(()=>(e.current=!0,()=>{e.current=!1}),[]),t}},88431:(e,t,s)=>{s.d(t,{N:()=>r});var l=s(71315),a=s(96540);let r=void 0!==l.cg?.document?.createElement?a.useLayoutEffect:a.useEffect},42255:(e,t,s)=>{s.d(t,{A:()=>r});var l=s(70263),a=s(96540);let r=function(e){let t=(0,l.A)(),[s,r]=(0,a.useState)(e);return[s,(0,a.useCallback)(e=>{t()&&r(e)},[t])]}},57224:(e,t,s)=>{s.d(t,{y:()=>n});var l=s(74848),a=s(21728),r=s(49936);function n(e){let t,s,n=(0,a.c)(7),{children:o,appName:i,category:c,metadata:d}=e;n[0]!==i||n[1]!==c||n[2]!==d?(t={appName:i,category:c,metadata:d},n[0]=i,n[1]=c,n[2]=d,n[3]=t):t=n[3];let u=t;return n[4]!==o||n[5]!==u?(s=(0,l.jsx)(r.I.Provider,{value:u,children:o}),n[4]=o,n[5]=u,n[6]=s):s=n[6],s}try{n.displayName||(n.displayName="AnalyticsProvider")}catch{}},76629:(e,t,s)=>{s.d(t,{BP:()=>u,D3:()=>d,O8:()=>i});var l=s(74848),a=s(21728),r=s(96540),n=s(71315),o=s(88431);let i={ServerRender:"ServerRender",ClientHydrate:"ClientHydrate",ClientRender:"ClientRender"},c=(0,r.createContext)(i.ClientRender);function d(e){let t,s,d,u,m=(0,a.c)(8),{wasServerRendered:f,children:p}=e;m[0]!==f?(t=()=>n.X3?i.ServerRender:f?i.ClientHydrate:i.ClientRender,m[0]=f,m[1]=t):t=m[1];let[x,h]=(0,r.useState)(t);return m[2]!==x?(s=()=>{x!==i.ClientRender&&h(i.ClientRender)},d=[x],m[2]=x,m[3]=s,m[4]=d):(s=m[3],d=m[4]),(0,o.N)(s,d),m[5]!==p||m[6]!==x?(u=(0,l.jsx)(c.Provider,{value:x,children:p}),m[5]=p,m[6]=x,m[7]=u):u=m[7],u}function u(){return(0,r.useContext)(c)}try{c.displayName||(c.displayName="RenderPhaseContext")}catch{}try{d.displayName||(d.displayName="RenderPhaseProvider")}catch{}},43258:(e,t,s)=>{s.d(t,{Qn:()=>i,T8:()=>d,Y6:()=>m,k6:()=>u});var l=s(74848),a=s(52870),r=s(96540),n=s(73189),o=s(42255);let i=5e3,c=(0,r.createContext)({addToast:n.l,addPersistedToast:n.l,clearPersistedToast:n.l}),d=(0,r.createContext)({toasts:[],persistedToast:null});function u({children:e}){let[t,s]=(0,o.A)([]),[n,u]=(0,r.useState)(null),{safeSetTimeout:m}=(0,a.A)(),f=(0,r.useCallback)(function(e){s([...t,e]),m(()=>s(t.slice(1)),i)},[t,m,s]),p=(0,r.useCallback)(function(e){u(e)},[u]),x=(0,r.useCallback)(function(){u(null)},[u]),h=(0,r.useMemo)(()=>({addToast:f,addPersistedToast:p,clearPersistedToast:x}),[p,f,x]),j=(0,r.useMemo)(()=>({toasts:t,persistedToast:n}),[t,n]);return(0,l.jsx)(c.Provider,{value:h,children:(0,l.jsx)(d.Provider,{value:j,children:e})})}function m(){return(0,r.useContext)(c)}try{c.displayName||(c.displayName="ToastContext")}catch{}try{d.displayName||(d.displayName="InternalToastsContext")}catch{}try{u.displayName||(u.displayName="ToastContextProvider")}catch{}},40064:(e,t,s)=>{s.d(t,{V:()=>m});var l=s(74848),a=s(96540),r=s(43258),n=s(38621),o=s(52870),i=s(56149);let c={info:"",success:"Toast--success",error:"Toast--error"},d={info:(0,l.jsx)(n.InfoIcon,{}),success:(0,l.jsx)(n.CheckIcon,{}),error:(0,l.jsx)(n.StopIcon,{})},u=({message:e,timeToLive:t,icon:s,type:r="info",role:n="log"})=>{let[u,m]=a.useState(!0),{safeSetTimeout:f}=(0,o.A)();return(0,a.useEffect)(()=>{t&&f(()=>m(!1),t-300)},[f,t]),(0,l.jsx)(i.ZL,{children:(0,l.jsx)("div",{className:"p-1 position-fixed bottom-0 left-0 mb-3 ml-3",children:(0,l.jsxs)("div",{className:`Toast ${c[r]} ${u?"Toast--animateIn":"Toast--animateOut"}`,id:"ui-app-toast","data-testid":`ui-app-toast-${r}`,role:n,children:[(0,l.jsx)("span",{className:"Toast-icon",children:s||d[r]}),(0,l.jsx)("span",{className:"Toast-content",children:e})]})})})};try{u.displayName||(u.displayName="Toast")}catch{}function m(){let{toasts:e,persistedToast:t}=(0,a.useContext)(r.T8);return(0,l.jsxs)(l.Fragment,{children:[e.map((e,t)=>(0,l.jsx)(u,{message:e.message,icon:e.icon,timeToLive:r.Qn,type:e.type,role:e.role},t)),t&&(0,l.jsx)(u,{message:t.message,icon:t.icon,type:t.type,role:t.role})]})}try{m.displayName||(m.displayName="Toasts")}catch{}}}]);
//# sourceMappingURL=packages_copilot-coding-agent-status_entry_ts-packages_history_history_ts-packages_promise-wi-9ec42f-90607058ffcf.js.map